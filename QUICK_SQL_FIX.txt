╔══════════════════════════════════════════════════════════════════════╗
║              QUICK FIX - Add Missing Columns to Gallery              ║
╚══════════════════════════════════════════════════════════════════════╝

🎯 PROBLEM: Column not found errors (PGRST204)

✅ SOLUTION: Run this SQL in Supabase SQL Editor

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

COPY THIS SQL:

ALTER TABLE gallery ADD COLUMN IF NOT EXISTS filename VARCHAR(255);
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS file_path TEXT;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS file_size INTEGER;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS mime_type VARCHAR(100);
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS public_url TEXT;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS alt_text VARCHAR(255);
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS tags TEXT[];
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS seo_title VARCHAR(255);
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS seo_description TEXT;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS is_active BOOLEAN DEFAULT true;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS sort_order INTEGER DEFAULT 0;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS width INTEGER;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS height INTEGER;

CREATE INDEX IF NOT EXISTS idx_gallery_filename ON gallery(filename);
CREATE INDEX IF NOT EXISTS idx_gallery_is_active ON gallery(is_active);
CREATE INDEX IF NOT EXISTS idx_gallery_tags ON gallery USING GIN(tags);

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📍 WHERE TO RUN:
1. Go to: https://supabase.com/dashboard/project/igyvsqhxlvbcoolnleos
2. Click: SQL Editor
3. Paste the SQL above
4. Click: Run

⏱️  TIME: 30 seconds

✅ RESULT: All column errors fixed!

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

📋 COLUMNS ADDED:
✓ filename       - File name
✓ file_path      - Storage path
✓ file_size      - Size in bytes
✓ mime_type      - File type
✓ public_url     - Public URL
✓ alt_text       - Alt text
✓ tags           - Search tags
✓ seo_title      - SEO title
✓ seo_description - SEO description
✓ is_active      - Visibility
✓ sort_order     - Display order
✓ width          - Image width
✓ height         - Image height

━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━━

🎉 DONE! Upload will work after running this SQL.

