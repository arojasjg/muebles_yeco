â•”â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•—
â•‘              QUICK FIX - Add Missing Columns to Gallery              â•‘
â•šâ•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•â•

ğŸ¯ PROBLEM: Column not found errors (PGRST204)

âœ… SOLUTION: Run this SQL in Supabase SQL Editor

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

COPY THIS SQL:

ALTER TABLE gallery ADD COLUMN IF NOT EXISTS filename VARCHAR(255);
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS file_path TEXT;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS file_size INTEGER;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS mime_type VARCHAR(100);
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS public_url TEXT;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS alt_text VARCHAR(255);
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS tags TEXT[];
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS seo_title VARCHAR(255);
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS seo_description TEXT;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS is_active BOOLEAN DEFAULT true;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS sort_order INTEGER DEFAULT 0;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS width INTEGER;
ALTER TABLE gallery ADD COLUMN IF NOT EXISTS height INTEGER;

CREATE INDEX IF NOT EXISTS idx_gallery_filename ON gallery(filename);
CREATE INDEX IF NOT EXISTS idx_gallery_is_active ON gallery(is_active);
CREATE INDEX IF NOT EXISTS idx_gallery_tags ON gallery USING GIN(tags);

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“ WHERE TO RUN:
1. Go to: https://supabase.com/dashboard/project/igyvsqhxlvbcoolnleos
2. Click: SQL Editor
3. Paste the SQL above
4. Click: Run

â±ï¸  TIME: 30 seconds

âœ… RESULT: All column errors fixed!

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ“‹ COLUMNS ADDED:
âœ“ filename       - File name
âœ“ file_path      - Storage path
âœ“ file_size      - Size in bytes
âœ“ mime_type      - File type
âœ“ public_url     - Public URL
âœ“ alt_text       - Alt text
âœ“ tags           - Search tags
âœ“ seo_title      - SEO title
âœ“ seo_description - SEO description
âœ“ is_active      - Visibility
âœ“ sort_order     - Display order
âœ“ width          - Image width
âœ“ height         - Image height

â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”â”

ğŸ‰ DONE! Upload will work after running this SQL.

